<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CustomLibrary</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- WELCOME SCREEN - USERNAME -->
  <div id="welcomeScreen" class="screen active">
    <div class="welcome-container">
      <svg class="logo" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <rect x="30" y="40" width="25" height="120" rx="2" fill="#f0f0f0"/>
        <rect x="65" y="35" width="25" height="130" rx="2" fill="#d0d0d0"/>
        <rect x="100" y="30" width="25" height="140" rx="2" fill="#b0b0b0"/>
        <rect x="135" y="35" width="25" height="130" rx="2" fill="#909090"/>
        <line x1="20" y1="160" x2="180" y2="160" stroke="#666" stroke-width="3"/>
      </svg>

      <div class="welcome-form">
        <label data-i18n="languageQuestionFirst">Ey, Â¿en quÃ© idioma podemos hablar?</label>
        <select id="langSelect">
          <option value="en">ğŸ‡¬ğŸ‡§ English</option>
          <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
          <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
          <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
          <option value="it">ğŸ‡®ğŸ‡¹ Italiano</option>
          <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
          <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
          <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
          <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
        </select>

        <label data-i18n="welcomeQuestion">Bienvenido, Â¿cÃ³mo puedo llamarte?</label>
        <input type="text" id="welcomeUsername" data-i18n-placeholder="yourName" placeholder="Tu nombre">

        <button id="checkUserBtn" data-i18n="continue" disabled>Continuar</button>
      </div>
    </div>
  </div>

  <!-- LOGIN SCREEN -->
  <div id="loginScreen" class="screen">
    <div class="welcome-container">
      <svg class="logo" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <rect x="30" y="40" width="25" height="120" rx="2" fill="#f0f0f0"/>
        <rect x="65" y="35" width="25" height="130" rx="2" fill="#d0d0d0"/>
        <rect x="100" y="30" width="25" height="140" rx="2" fill="#b0b0b0"/>
        <rect x="135" y="35" width="25" height="130" rx="2" fill="#909090"/>
        <line x1="20" y1="160" x2="180" y2="160" stroke="#666" stroke-width="3"/>
      </svg>

      <div class="welcome-form">
        <h2 id="welcomeBackText" data-i18n="welcomeBack">Â¡Bienvenido de nuevo!</h2>
        <label data-i18n="enterPin">Introduce tu PIN de 4 dÃ­gitos</label>
        <input type="password" id="loginPin" maxlength="4" pattern="[0-9]{4}" placeholder="****" inputmode="numeric">
        <button id="loginBtn" data-i18n="login" disabled>Iniciar sesiÃ³n</button>
        <button id="backToUsernameBtn" class="secondary-btn" data-i18n="back">Volver</button>
      </div>
    </div>
  </div>

  <!-- REGISTER SCREEN -->
  <div id="registerScreen" class="screen">
    <div class="welcome-container">
      <svg class="logo" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <rect x="30" y="40" width="25" height="120" rx="2" fill="#f0f0f0"/>
        <rect x="65" y="35" width="25" height="130" rx="2" fill="#d0d0d0"/>
        <rect x="100" y="30" width="25" height="140" rx="2" fill="#b0b0b0"/>
        <rect x="135" y="35" width="25" height="130" rx="2" fill="#909090"/>
        <line x1="20" y1="160" x2="180" y2="160" stroke="#666" stroke-width="3"/>
      </svg>

      <div class="welcome-form">
        <h2 data-i18n="newUser">Â¡Nuevo usuario!</h2>
        
        <label data-i18n="addonNameQuestion">Â¿Y cÃ³mo me llamo yo?</label>
        <input type="text" id="addonName" placeholder="LibrerÃ­a de Usuario">
        <small data-i18n="addonNameHelp">Este serÃ¡ el nombre del addon en tu reproductor</small>

        <label data-i18n="tmdbQuestion">Voy a necesitar tu clave API de TMDB</label>
        <input type="text" id="registerTmdbKey" data-i18n-placeholder="tmdbKeyPlaceholder" placeholder="API Key de TMDB">
        <small class="help-text">
          <span data-i18n="getTmdbKeyText">Esto lo consigues</span>
          <a href="https://www.themoviedb.org/settings/api" target="_blank" data-i18n="here">AQUÃ</a>
        </small>

        <label data-i18n="createPin">Crea un PIN de 4 dÃ­gitos</label>
        <input type="password" id="registerPin" maxlength="4" pattern="[0-9]{4}" placeholder="****" inputmode="numeric">
        <small data-i18n="pinHelp">Ãšsalo para acceder a tu cuenta</small>

        <button id="registerBtn" data-i18n="startButton" disabled>Pasemos a crear tus listas</button>
      </div>
    </div>
  </div>

  <!-- MAIN SCREEN -->
  <div id="mainScreen" class="screen">
    <div class="container">
      <header>
        <svg class="logo-small" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <rect x="30" y="40" width="25" height="120" rx="2" fill="#f0f0f0"/>
          <rect x="65" y="35" width="25" height="130" rx="2" fill="#d0d0d0"/>
          <rect x="100" y="30" width="25" height="140" rx="2" fill="#b0b0b0"/>
          <rect x="135" y="35" width="25" height="130" rx="2" fill="#909090"/>
          <line x1="20" y1="160" x2="180" y2="160" stroke="#666" stroke-width="3"/>
        </svg>
        <h1 id="mainTitle"></h1>
        <button id="changeUserBtn" class="icon-btn" title="Cambiar usuario">ğŸ‘¤</button>
      </header>

      <section class="search-section-top">
        <input type="text" id="searchInput" data-i18n-placeholder="searchPlaceholder" placeholder="Buscar...">
        <div id="searchResults"></div>
      </section>

      <section class="lists-section">
        <h2 data-i18n="yourLists">Estas son tus listas</h2>
        <div id="listDisplay"></div>
      </section>

      <section class="create-section">
        <h2 data-i18n="createList">Crear nueva lista</h2>
        <form id="newListForm">
          <input type="text" id="listName" data-i18n-placeholder="listName" placeholder="Nombre de la lista" required>
          <input type="text" id="listType" data-i18n-placeholder="listType" placeholder="Tipo" required>
          <button type="submit" data-i18n="create">Crear</button>
        </form>
      </section>

      <section class="friends-section">
        <h2 data-i18n="friends">Amigos</h2>
        <div id="friendsDisplay"></div>
        <form id="addFriendForm">
          <input type="text" id="friendUsername" data-i18n-placeholder="friendUsername" placeholder="Nombre de usuario" required>
          <button type="submit" data-i18n="addFriend">AÃ±adir amigo</button>
        </form>
      </section>

      <footer>
        <button id="importBtn" class="big-btn gray-btn"><span data-i18n="importPin">AÃ±adir lista por PIN</span></button>
        <button id="copyInstallBtn" class="big-btn gray-btn"><span data-i18n="copyUrl">Copiar URL de instalaciÃ³n</span></button>
        <button id="installBtn" class="big-btn purple-btn"><span data-i18n="install">Instalar en tu reproductor</span></button>
      </footer>
    </div>
  </div>

  <!-- LIST DETAIL SCREEN -->
  <div id="listDetailScreen" class="screen">
    <div class="container">
      <button id="backBtn" class="back-btn">â† <span data-i18n="back">Volver</span></button>
      <h1 id="listDetailTitle"></h1>
      <div id="listDetailItems"></div>
    </div>
  </div>

  <!-- FRIEND DETAIL SCREEN -->
  <div id="friendDetailScreen" class="screen">
    <div class="container">
      <button id="backFromFriendBtn" class="back-btn">â† <span data-i18n="back">Volver</span></button>
      <h1 id="friendDetailTitle"></h1>
      
      <section class="friend-section">
        <h2 data-i18n="friendLists">Listas</h2>
        <div id="friendListsDisplay"></div>
      </section>

      <section class="friend-section">
        <h2 data-i18n="friendRatings">Calificaciones recientes</h2>
        <div id="friendRatingsDisplay"></div>
      </section>
    </div>
  </div>

  <!-- Modal para seleccionar lista -->
  <div id="listModal" class="modal">
    <div class="modal-content">
      <h3 data-i18n="selectListModal">Â¿A quÃ© lista quieres agregar esto?</h3>
      <select id="modalListSelect"></select>
      <div class="modal-buttons">
        <button id="modalAddBtn" data-i18n="add">Agregar</button>
        <button id="modalCancelBtn" data-i18n="cancel">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Modal para importar PIN -->
  <div id="pinModal" class="modal">
    <div class="modal-content">
      <h3 data-i18n="importPinTitle">Introduce el PIN de 6 dÃ­gitos</h3>
      <input type="text" id="pinInput" maxlength="6" pattern="[0-9]{6}" placeholder="123456" inputmode="numeric">
      <div class="modal-buttons">
        <button id="pinImportBtn" data-i18n="import">Importar</button>
        <button id="pinCancelBtn" data-i18n="cancel">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Modal para mostrar PIN -->
  <div id="showPinModal" class="modal">
    <div class="modal-content">
      <h3 data-i18n="sharePinTitle">PIN de la lista</h3>
      <div class="pin-display">
        <span id="pinDisplay"></span>
      </div>
      <p data-i18n="sharePinText">Comparte este PIN para que otros puedan importar la lista</p>
      <div class="modal-buttons">
        <button id="copyPinBtn" data-i18n="copyPin">Copiar PIN</button>
        <button id="closePinBtn" data-i18n="close">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- Modal para calificar -->
  <div id="ratingModal" class="modal">
    <div class="modal-content">
      <h3 data-i18n="rateTitle">Calificar</h3>
      <div class="star-rating">
        <span class="star" data-rating="1">â˜…</span>
        <span class="star" data-rating="2">â˜…</span>
        <span class="star" data-rating="3">â˜…</span>
        <span class="star" data-rating="4">â˜…</span>
        <span class="star" data-rating="5">â˜…</span>
      </div>
      <textarea id="reviewText" data-i18n-placeholder="reviewPlaceholder" placeholder="Escribe una reseÃ±a (opcional)..." rows="4"></textarea>
      <div class="modal-buttons">
        <button id="submitRatingBtn" data-i18n="submit">Enviar</button>
        <button id="cancelRatingBtn" data-i18n="cancel">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Modal para ver calificaciones -->
  <div id="viewRatingsModal" class="modal">
    <div class="modal-content ratings-modal">
      <h3 data-i18n="ratingsTitle">Calificaciones</h3>
      <div id="ratingsDisplay"></div>
      <div class="modal-buttons">
        <button id="closeRatingsBtn" data-i18n="close">Cerrar</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
